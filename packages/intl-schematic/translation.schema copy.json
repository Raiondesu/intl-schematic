{
    "type": "object",
    "title": "Translation document",
    "description": "Contains various localized strings that can be accessed with a key",
    "patternProperties": {
        "^.+$": {
            "anyOf": [{
                "title": "Plain-string translation record",
                "description": "This record simply allows to get the value string by the key, value can be an array to help break one-line texts in multiple lines for readability or to reference other translation records by their keys",
                "items": {
                    "anyOf": [{
                        "title": "Reference to an input of another parametrized record",
                        "description": "Value must refer to a parametrized record that is already referenced in this array",
                        "type": "string",
                        "pattern": "input:.+"
                    }, {
                        "title": "A single part of a plain-string translation record",
                        "description": "Can be a key to another translation record",
                        "type": "string"
                    }, {
                        "title": "A reference to a parametrized translation record",
                        "description": "Inserts the parametrized value into the string, provide an object with key that references the record and a value to serve as an input",
                        "type": "object",
                        "patternProperties": {
                            "^(?!__ignore$).+$": {
                                "title": "A reference to a parametrized translation record"
                            }
                        },
                        "maxProperties": 2,
                        "minProperties": 1,
                        "additionalProperties": {
                            "pattern": "^__ignore$",
                            "type": "boolean",
                            "title": "Whether this parametrized record should be ignored"
                        }
                    }]
                },
                "type": [
                    "string",
                    "array"
                ],
                "examples": [
                    "Translated text",
                    ["Long", "translated", "text"],
                    ["Long", "translated", "text with", { "keys/reference-multiple": "" }, "to other translation records"]
                ]
            }, {
                "title": "Parametrized translation record",
                "description": "Allows to apply different pre-set functions to the input value with an object parameter before returning a localized string",
                "type": "object",
                "additionalProperties": false,
                "properties": {
                    "processor": {
                        "type": "object",
                        "title": "Function Name",
                        "description": "An object that as its only key has the name of the function that will process the input. Default functions: id, plural, currency, date",
                        "patternProperties": {
                            "^.*$": {
                                "type": "string",
                                "title": "Function Name Key",
                                "description": "A name of the function that will process the input. It is a key to enable strict typing - value should be an empty string"
                            }
                        }
                    },
                    "parameter": {
                        "type": ["array", "object"],
                        "title": "Parameter object",
                        "description": "Parameter to pass into the processor function before passing in the input",
                        "items": {
                            "description": "A value in the parameter array",
                            "type": ["array", "boolean", "integer", "null", "number", "object", "string"]
                        },
                        "patternProperties": {
                            "^.*$": {
                                "description": "A key-value in the parameter object",
                                "type": ["array", "boolean", "integer", "null", "number", "object", "string"]
                            }
                        }
                    },
                    "input": {
                        "type": ["object", "string", "number", "boolean", "null"],
                        "title": "Input object",
                        "description": "The input arguments to a translation function in the format of 'name': 'default-value'. Provide a default value for each key.",
                        "patternProperties": {
                            "^.*$": {
                                "description": "A key in the input object, value is used as a default",
                                "type": ["array", "boolean", "integer", "null", "number", "object", "string"]
                            }
                        }
                    }
                },
                "required": [
                    "processor",
                    "input",
                    "parameter"
                ]
            }, {
                "title": "Plain-string translation record with references",
                "description": "A translation record that consists of multiple translation strings or references to other translation records",
                "type": "object",
                "additionalProperties": false,
                "patternProperties": {
                    "^(?!input|processor|parameter).*$": {
                        "title": "Either a translation string or a reference to another translation key",
                        "oneOf": [{
                            "title": "Plain string or reference",
                            "description": "Either a translation string or a reference to any other translation key",
                            "type": "string"
                        }, {
                            "title": "Parametrized reference",
                            "type": ["object", "number", "boolean"],
                            "description": "Reference to a parametrized translation key, optionally provide an override for an input to the key's processor",
                            "patternProperties": {
                                "^.*$": {
                                    "description": "A key in the input object, value is used as a default",
                                    "type": ["array", "boolean", "integer", "null", "number", "object", "string"]
                                }
                            }
                        }]
                    }
                }
            }]
        }
    }
}
